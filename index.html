<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>Happy afa</title>
  <meta name="author" content="happy afa" />

  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  
  <meta property="og:site_name" content="Happy afa" />

  
  

  
    <meta property="og:image" content="" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="Happy afa" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Happy afa</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2021-07-26T05:12:01.000Z"><a href="/2021/07/26/如何用hexo写文章/">2021-07-26</a></time>
      
      
  
    <h1 class="title"><a href="/2021/07/26/如何用hexo写文章/">如何用hexo写文章</a></h1>
  

    </header>
    <div class="entry">
      
        <p>1、用cnpm run server 来启动本地预览，在浏览器输入http://localhost:4000/即可。</p>
<p>2、打开terminal，在命令行输入：</p>
<p>hexo new “article” # 文章标题</p>
<p>执行后会在_posts里看见多了一个article.md文件。<br>
刷新页面（<a target="_blank" rel="noopener" href="http://localhost:4000/%EF%BC%89%E6%88%91%E4%BB%AC%E8%83%BD%E7%9C%8B%E8%A7%81%E6%96%B0%E6%B7%BB%E4%B8%80%E4%B8%AA%E5%90%8D%E5%AD%97%E5%8F%AB%22%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%22%E7%9A%84%E6%96%87%E7%AB%A0%EF%BC%8C%E6%B2%A1%E6%9C%89%E4%BB%BB%E4%BD%95%E5%86%85%E5%AE%B9%E3%80%82">http://localhost:4000/）我们能看见新添一个名字叫&quot;文章标题&quot;的文章，没有任何内容。</a><br>
而这个_posts文件夹，算是一个比较特殊的文件夹，因为它装着所有你发布出去的文章。</p>
<p>打开article.md文件，我们会看到</p>
<hr>
<h2 id="title-1date-2017-09-15-19-00-41tags">title: 1<br>
date: 2017-09-15 19:00:41<br>
tags:</h2>
<p>在这里随便写点什么<br>
然后刷新页面,就会看到你写的内容。与此同时，hexo也会自动为这个post生成一个页面，当我们点击标题，就会进入那个页面。</p>
<p>3、草稿箱</p>
<p>打开terminal，在命令行输入：</p>
<p>hexo new draft b</p>
<p>我们会在source下看见一个新的文件夹，_drafts，这个里面会装我们所有的草稿文件。</p>
<p>那写好了的草稿，如何可以在不发布的情况下，预览一下文章在网站上的样子呢？</p>
<p>hexo server --draft</p>
<p>4: 发布草稿</p>
<p>hexo publish b</p>
<p>你会发现_drafts里的b.md不见了，跑到了_posts里面,也就说明你的草稿发布成功了。</p>
<p>…</p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2021-07-26T04:52:50.000Z"><a href="/2021/07/26/删除千万级数据的一种方法/">2021-07-26</a></time>
      
      
  
    <h1 class="title"><a href="/2021/07/26/删除千万级数据的一种方法/">删除千万级数据的一种方法</a></h1>
  

    </header>
    <div class="entry">
      
        <p>MYSQL数据库因生产原因需要删除大量数据，因数据量太大接近上亿条，用常规delete删除小数据可以，删除几千万大数据量会非常慢，并且不会释放出磁盘空间，</p>
<p>采用新建表，导入无需删除的数据，然后删除老表，把新表改名为老表，步骤如下：</p>
<p>1、基于老表新建新表！<br>
create table staff_track_new like staff_track;</p>
<p>2、插入数据（几千万的数据量一定要分批插入，一次50万为最佳，毕竟mysql的数据处理能力有限），可以按ID查询后插入！</p>
<p>insert into staff_track_new select * from staff_track  where …;<br>
新表中只保留有用的数据，硬盘空间得以释放！</p>
<p>3、drop删除掉老表<br>
drop table staff_track;</p>
<p>4、重命名新表为“sell”<br>
alter table staff_track_new rename to staff_track;</p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2021-07-23T05:21:29.306Z"><a href="/2021/07/23/hello-world/">2021-07-23</a></time>
      
      
  
    <h1 class="title"><a href="/2021/07/23/hello-world/">Hello World</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






<nav id="pagination">
  
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:example.com">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2021/07/26/如何用hexo写文章/">如何用hexo写文章</a>
      </li>
    
      <li>
        <a href="/2021/07/26/删除千万级数据的一种方法/">删除千万级数据的一种方法</a>
      </li>
    
      <li>
        <a href="/2021/07/23/hello-world/">Hello World</a>
      </li>
    
  </ul>
</div>


  

  

  
    <div class="widget tag">
      <h3 class="title">友情链接</h3>
        <ul class="entry">
          
            <li class='link'><a target="_blank" rel="noopener" href='https://mirsery.github.io/'>mirsery</a></li>
          
            <li class='link'><a target="_blank" rel="noopener" href='https://blithezhu.github.io/'>blithezhu</a></li>
          
        </ul>
    </div>
  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2021 happy afa
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
</body>
</html>